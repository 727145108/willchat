{"version":3,"sources":["login.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.js","sourcesContent":["var Login = function() {\r\n\r\n    var handleLogin = function() {\r\n\r\n        $('.login-form').validate({\r\n            errorElement: 'span', //default input error message container\r\n            errorClass: 'help-block', // default input error message class\r\n            focusInvalid: true, // do not focus the last invalid input\r\n            rules: {\r\n                name: {\r\n                    required: true\r\n                },\r\n                password: {\r\n                    required: true\r\n                },\r\n                remember: {\r\n                    required: false\r\n                }\r\n            },\r\n\r\n            messages: {\r\n                name: {\r\n                    required: \"请输入用户名.\"\r\n                },\r\n                password: {\r\n                    required: \"请输入密码.\"\r\n                }\r\n            },\r\n\r\n            invalidHandler: function(event, validator) { //display error alert on form submit\r\n                $('.alert-danger', $('.login-form')).show();\r\n            },\r\n\r\n            highlight: function(element) { // hightlight error inputs\r\n                $(element).closest('.form-group').addClass('has-error'); // set error class to the control group\r\n            },\r\n\r\n            success: function(label) {\r\n                label.closest('.form-group').removeClass('has-error');\r\n                label.remove();\r\n            },\r\n\r\n            errorPlacement: function(error, element) {\r\n                error.insertAfter(element.closest('.input-icon'));\r\n            },\r\n\r\n            submitHandler: function(form) {\r\n                var _form = $(form);\r\n                var url = _form.attr('action');\r\n                var formData = _form.serialize();\r\n\r\n                _form.find('.alert-danger span').html('');\r\n                _form.find('.alert-danger').addClass('hide');\r\n\r\n                $.post(url, formData, function(data, textStatus, xhr) {\r\n                    if (data.status) {\r\n                        location.href = data.url;\r\n                    } else {\r\n                        //登录失败则进行提示\r\n                        _form.find('.alert-danger span').html(data.info);\r\n                        _form.find('.alert-danger').removeClass('hide');\r\n                    };\r\n                }, 'json');\r\n                return false;\r\n            }\r\n        });\r\n\r\n        $('.login-form input').keypress(function(e) {\r\n            if (e.which == 13) {\r\n                if ($('.login-form').validate().form()) {\r\n                    $('.login-form').submit(); //form validation success, call ajax form submit\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n\r\n    var handleForgetPassword = function() {\r\n\r\n\r\n    };\r\n\r\n    var handleRegister = function() {\r\n\r\n        $('.register-form').validate({\r\n            errorElement: 'span', //default input error message container\r\n            errorClass: 'help-block', // default input error message class\r\n            focusInvalid: true, // do not focus the last invalid input\r\n            rules: {\r\n                name: {\r\n                    required: true\r\n                },\r\n                password: {\r\n                    required: true\r\n                },\r\n                remember: {\r\n                    required: false\r\n                }\r\n            },\r\n\r\n            messages: {\r\n                name: {\r\n                    required: \"请输入用户名.\"\r\n                },\r\n                password: {\r\n                    required: \"请输入密码.\"\r\n                }\r\n            },\r\n\r\n            invalidHandler: function(event, validator) { //display error alert on form submit\r\n                $('.alert-danger', $('.register-form')).show();\r\n            },\r\n\r\n            highlight: function(element) { // hightlight error inputs\r\n                $(element).closest('.form-group').addClass('has-error'); // set error class to the control group\r\n            },\r\n\r\n            success: function(label) {\r\n                label.closest('.form-group').removeClass('has-error');\r\n                label.remove();\r\n            },\r\n\r\n            errorPlacement: function(error, element) {\r\n                error.insertAfter(element.closest('.input-icon'));\r\n            },\r\n\r\n            submitHandler: function(form) {\r\n                var _form = $(form);\r\n                var url = _form.attr('action');\r\n                var formData = _form.serialize();\r\n\r\n                _form.find('.alert-danger span').html('');\r\n                _form.find('.alert-danger').addClass('hide');\r\n\r\n                $.post(url, formData, function(data, textStatus, xhr) {\r\n                    if (data.status) {\r\n                        location.href = data.url;\r\n                    } else {\r\n                        //登录失败则进行提示\r\n                        _form.find('.alert-danger span').html(data.info);\r\n                        _form.find('.alert-danger').removeClass('hide');\r\n                    };\r\n                }, 'json');\r\n                return false;\r\n            }\r\n        });\r\n\r\n        $('.register-form input').keypress(function(e) {\r\n            if (e.which == 13) {\r\n                if ($('.register-form').validate().form()) {\r\n                    $('.register-form').submit(); //form validation success, call ajax form submit\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n\r\n    return {\r\n        handleLogin: handleLogin,\r\n        handleForgetPassword: handleForgetPassword,\r\n        handleRegister: handleRegister\r\n    };\r\n}();"],"sourceRoot":"/source/"}